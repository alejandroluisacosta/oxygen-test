<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/styles.css" rel="stylesheet" />
        <title>unit converter</title>
        <script>
            document.addEventListener("DOMContentLoaded", function(){ /* Wait for page to load */
                let button = document.getElementById("button");
                let convertionType = document.getElementById("convertion_type");
                convertionType.addEventListener('change', function(){
                    if (convertionType.value == 'km-miles')
                    {
                        document.getElementById('input-unit').innerHTML = 'km';
                        document.getElementById('output-unit').innerHTML = 'miles';
                    }
                    else if (convertionType.value == 'miles-km')
                    {
                        document.getElementById('input-unit').innerHTML = 'miles';
                        document.getElementById('output-unit').innerHTML = 'km';
                    }
                    else if (convertionType.value == 'feet-meter')
                    {
                        document.getElementById('input-unit').innerHTML = 'ft';
                        document.getElementById('output-unit').innerHTML = 'm';
                    }
                    else if (convertionType.value == 'meter-feet')
                    {
                        document.getElementById('input-unit').innerHTML = 'm';
                        document.getElementById('output-unit').innerHTML = 'ft';
                    }
                    else if (convertionType.value == 'cm-in')
                    {
                        document.getElementById('input-unit').innerHTML = 'cm';
                        document.getElementById('output-unit').innerHTML = 'in';
                    }
                    else if (convertionType.value == 'in-cm')
                    {
                        document.getElementById('input-unit').innerHTML = 'in';
                        document.getElementById('output-unit').innerHTML = 'cm';
                    }
                });
                button.addEventListener("click", function(){ /* Convertion occurs when button clicked */
                    let input = document.getElementById("input-val").value;
                    let factor = 0;
                    if (convertionType.value == "km-miles")
                    {
                        factor = 0.621371;
                    }
                    else if (convertionType.value == 'miles-km')
                    {
                        factor = 1.60934; 
                    }
                    else if (convertionType.value == 'feet-meter')
                    {
                        factor = 0.3048; 
                    }
                    else if (convertionType.value == 'meter-feet')
                    {
                        factor = 3.28084; 
                    }
                    else if (convertionType.value == 'cm-in')
                    {
                        factor = 0.393701; 
                    }
                    else
                    {
                        factor = 2.54; 
                    }
                    document.getElementById("output-val").innerHTML = (input * factor).toFixed(2); /* Will only work with first dropdown option */
                    /* Possible solution: Add event listener to dropdown element - Don't know how */
                })
            })
        </script>
    </head>
    <body>
        <div id="converter-block">
            <div id="title">
                <h1 id="title-txt">convert</h1>
            </div>
            <div id="content">
                <div id="dropdown">
                    <select id="convertion_type">
                        <option value="km-miles">km -> miles</option>
                        <option value="miles-km">miles -> km</option>
                        <option value="feet-meter">ft -> m</option>
                        <option value="meter-feet">m -> ft</option>
                        <option value="cm-in">cm -> in</option>
                        <option value="in-cm">in -> cm</option>
                    </select>
                </div>
                <div id="input">
                    <input type="number" id="input-val" placeholder="100";>
                    <p id="input-unit">km</p>
                    <button id="button">convert</button>
                </div>
                <div id="output">
                    <p id="output-val">62.12</p>
                    <p id="output-unit">miles</p>
                </div>
            </div>
        </div>
        </div>
    </body>
</html>